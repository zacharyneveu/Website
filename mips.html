<html>
<head>
<link rel="stylesheet" type="text/css" href="../../projectStyle.css">
<link href="https://fonts.googleapis.com/css?family=Rye|Ubuntu" rel="stylesheet">

<!-- Code highlighting options -->
<link rel="stylesheet" href="../../lib/code_highlight/styles/gruvbox-dark.css">
<script src="../../lib/code_highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<title>
	MIPS Programs
</title>

</head>
<body>
	<div id="header">
		<center>
			<h1>
				MIPS
			</h1>
		</center>
	</div>

	<div id="container">
		<div id="lhs" class = "column">
			<div id="row1left" class="row">
				<h3> String Copy </h3>
				This program copies a string into an empty space.  It is a very
				simple program but is a good exercise using branch and jump
				instructions correctly.
				<pre>
					<code class="mips">
.data
	src: .asciiz "Hello World\n"
	dst: .space 100
.text
	la $s0, src
	la $s1, dst
	copy: lb $t0, ($s0) 	#load char into $t0
	li $t1, 0				#Store 0 in buffer $t1
	beq $t1, $t0, endloop	#Jump to end of loop if null term is hit
	sb $t0, ($s1)			#store source char in buffer
	addi $s1, $s1, 1		#increment source
	addi $s0, $s0, 1		#increment destination
	j copy 					#jump back to copy
	endloop:

	li $v0, 4 				#Write Print String System Call to Register $v0
	la $a0, dst 			#Load string to be printed into $a0
	syscall 				#system call to print string

					</code>
				</pre>
			</div>

			<div id=row2left class="row">
				<h3> Simple Calculator</h3>
				This code implements a simple calculator in MIPS.  The user is
				asked to enter two operands and an operation, and the result is
				printed.
				<pre>
					<code class="mips">
.data
	prompt1: .asciiz "Enter First Operand: " #prompt string 1
	prompt2: .asciiz "Enter Operation (+, -, *, /): " #Prompt string 2
	prompt3: .asciiz "Enter Second Operand: " #prompt string 3
	equal: .asciiz " = "
	A: .space 4 #4 bytes to store first operand
	B: .space 4 #4 bytes to store second operand
	result: .space 4	#4 bytes to store the result
	operation: .space 2 #one byte to store operation char
.text
	#load addresses of variables
	la $t0, operation	#buffer address of operation
	la $t1, result 		#load address of result
	la $t2, A			#load address of a
	la $t3, B			#load address of b

	li $v0, 4 #Write Print String System Call to Register $v0
	la $a0, prompt1 #Load string to be printed into $a0
	syscall #system call to print string

	li $v0, 5				#Set system mode to get int
	syscall 				#Make the system call
	sw $v0, ($t2)			#store input at address stored in $t2

	li $v0, 4 #Write Print String System Call to Register $v0
	la $a0, prompt2 #Load string to be printed into $a0
	syscall #system call to print string

	li $v0, 8				#Set system mode to get string
	la $a0, operation	#Give system address to write to
	li $a1, 2		#Give system max size of string
	syscall 				#Make the system call

	li $v0, 4 #Write Print String System Call to Register $v0
	la $a0, prompt3 #Load string to be printed into $a0
	syscall #system call to print string

	li $v0, 5				#Set system mode to get int
	syscall 				#Make the system call
	sw $v0, ($t3)			#Store input at address stored in $t3

	switch:
	lb $s0, ($t0)	#load data of operation into $s0
	lb $s2, ($t2)	#load data of A
	lb $s3, ($t3)	#load data of B
	li $t4, 43		#load constants for comparison
	li $t5, 45		#load constants for comparison
	li $t6, 42		#load constants for comparison
	li $t7, 47		#load constants for comparison
	beq $s0, $t4, plus	#43 is plus sign
	beq $s0, $t5, minus	#45 is minus
	beq $s0, $t6, times	#42 is times
	beq $s0, $t7, divide	#47 is divide (slash)

	plus:
	add $s1, $s2, $s3 	#add A and B store in $s1
	j endswitch			#jump to end of switch

	minus:
	sub $s1, $s2, $s3 	#subtract B from A, store in $s1
	j endswitch

	times:
	mult $s2, $s3 		#multiply A and B
	mflo $s1 			#move result of multiplication to $s1
	j endswitch

	divide:
	div $s2, $s3 		#divide $s2 by $s3
	mflo $s1 			#move quotient into $s1
	j endswitch

	endswitch:
	sw $s1, result		#store result at proper location

	li $v0, 1 #Write Print String System Call to Register $v0
	move $a0, $s2 	#move A into $a0
	syscall #system call to print string

	li $v0, 4 #Write Print String System Call to Register $v0
	la $a0, operation #Load string to be printed into $a0
	syscall #system call to print string

	li $v0, 1 #Write Print String System Call to Register $v0
	move $a0, $s3	#load value of b into $a0
	syscall #system call to print string

	li $v0, 4 #Write Print String System Call to Register $v0
	la $a0, equal #Load string to be printed into $a0
	syscall #system call to print string

	li $v0, 1 #Write Print Int System Call to Register $v0
	move $a0, $s1 	#move integer into $a0
	syscall #system call to print string

	li $v0, 10 #write exit code to system call register

					</code>
				</pre>
			</div>
		</div>

		<div id="rhs" class = "column">
			<div id="row1right" class="row">
				<h3> For Loop </h3>
				This code implements a for loop which runs for ten iterations.
				Inside the loop, the iteration number is written into an array.
				<pre>
					<code class="mips">
.text
	ini: li $s0, 0	#i=0

	cond:
	li $t1, 10				#load 10 into $t1
	bge $s0, $t1, endloop 	#break loop if i>=10

	body: sll $t0, $s0, 2 	#$t0 = i*4
	add $t0, $t0, $s1 		#After this, $t0 contains &A[i]
	lw $t0, 0($t0) 			#load A[i] into $t0
	sw $s0, 0($t0)			#A[i]=i
	inc: addi $s0,$s0, 1		#i++
	j cond					#jump to cond label
	endloop:
					</code>
				</pre>
			</div>

			<div id="row2right" class="row">
				<h3> String Comparator </h3>
				This program asks the user for two input strings, and displays
			whether the two strings are equal, or which is greater
			(alphabetically).
			<pre>
				<code class="mips">
.data
	s1: .space 100
	s2: .space 100
	prompt1: .asciiz "Enter String 1\n"
	prompt2: .asciiz "Enter String 2\n"
	greater: .asciiz "s1 > s2\n"
	less: .asciiz "s1 &lt; s2\n"
	equal: .asciiz "The strings are equal\n"
.text
	prompt:
	li $v0, 4 			#Write Print String System Call to Register $v0
	la $a0, prompt1 	#Load string to be printed into $a0
	syscall 			#system call to print string

	li $v0, 8	#Make system call read string
	la $a0, s1	#give system address to store s1
	li $a1, 100	#give system max size of string
	syscall 	#system call to read string

	li $v0, 4 		#Write Print String System Call to Register $v0
	la $a0, prompt2 #Load string to be printed into $a0
	syscall 		#system call to print string

	li $v0, 8	#Make system call read string
	la $a0, s2	#give system address to store s1
	li $a1, 100	#give system max size of string
	syscall 	#system call to read string

	compare:
	la $t1, s1		#store address of s1 in $t0
	la $t2, s2 		#store address of s2 in $t0
	lb $s1, ($t1)	#load first char of s1 into $s1
	lb $s2, ($t2)	#load first char of s2 into $s2
	loop:
	beqz $s1, eq	#jump to eq if $s1 is null
	blt $s1, $s2, lt#jump to lt if $s1&lt;$s2
	bgt $s1, $s2, gt#jump to gt if $s1>$s2

	eq:
	li $v0, 4 		#Write Print String System Call to Register $v0
	la $a0, equal 	#Load string to be printed into $a0
	syscall 		#system call to print string
	j endloop 		#Jump to end of loop

	lt:
	li $v0, 4 		#Write Print String System Call to Register $v0
	la $a0, less 	#Load string to be printed into $a0
	syscall 		#system call to print string
	j endloop		#Jump to end of loop

	gt:
	li $v0, 4 		#Write Print String System Call to Register $v0
	la $a0, greater #Load string to be printed into $a0
	syscall 		#system call to print string
	j endloop		#Jump to end of loop

	addi $s1, $s1, 1	#increment string 1
	addi $s2, $s2, 1	#increment string 2
	j loop 				#Jump to top of loop

	endloop:	#End of program


				</code>
			</pre>
			</div>

			<div id="row3right" class="row">
			<h3> Blank Space Remover </h3>
			This program asks the user for an input string.  If there are any
			spaces in this string, the program will display the input with all
			spaces removed.

			<pre>
				<code class="mips">
.data
	s: .space 100
	prompt: .asciiz "Enter String: "
.text
	li $v0, 4 		#Write Print String System Call to Register $v0
	la $a0, prompt 	#Load string to be printed into $a0
	syscall 		#system call to print string

	li $v0, 8		#Set system mode to get string
	la $a0, s		#Give system address to write to
	li $a1, 100		#Give system max size of string
	syscall 		#Make the system call

	la $t0, s	#load address of s to buffer (old index)
	la $t1, s	#load address of s as new index initially

	do:
	lb $s0, ($t0)		#load value of first char to $s0
	addi $t0, $t0, 1	#Increment old index
	beq $s0, 32, cond 	#continue if c is a space
	sb $s0, ($t1)		#if not a space, store c at new index
	addi $t1, $t1, 1	#Increment new index

	cond:
	beqz $s0, endloop 	#stop loop if null is hit
	j do 				#Jump to top of loop if not null char

	endloop:
	li $v0, 4 	#Write Print String System Call to Register $v0
	la $a0, s 	#Load string to be printed into $a0
	syscall 	#system call to print string
				</code>
			</pre>
			</div>
		</div>
	</div>

</body>

</html>
